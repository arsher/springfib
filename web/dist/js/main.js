!function(){"use strict";angular.module("FibonacciApp",["ngRoute"]).config(["$locationProvider","$routeProvider",function(n,o){n.hashPrefix("!"),o.when("/login",{templateUrl:"./views/login.html",controller:"LoginController"}).when("/",{templateUrl:"./views/fibonacci.html",controller:"FibonacciController"}).otherwise({redirectTo:"/login"})}]).run(["$rootScope","$location","AuthService",function(n,o,t){n.$on("$locationChangeStart",function(n,e,r){"/login"===o.path()||t.isAuthenticated()||o.path("/login")})}]),angular.module("FibonacciApp").factory("AuthService",["$rootScope","$http",function(n,o){var t={};return t.isAuthenticated=function(){return n.authenticated},t.login=function(t,e){return o({method:"POST",url:"/login",data:$.param({username:t,password:e}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(){n.authenticated=!0})},t}]),angular.module("FibonacciApp").factory("FibonacciService",["AuthService","$http",function(n,o){var t={};return t.generate=function(n){return o({method:"GET",url:"/fibonacci",params:{number:n}}).then(function(n){return n.data},function(n){throw n.data})},t}]),angular.module("FibonacciApp").controller("LoginController",["$scope","AuthService","$location",function(n,o,t){n.login=function(){n.busy=!0,o.login(n.user,n.pass).then(function(){n.busy=!1,t.path("/")},function(){n.error="Invalid username or password",n.busy=!1})}}]),angular.module("FibonacciApp").controller("FibonacciController",["$scope","FibonacciService","$location",function(n,o,t){n.generate=function(){n.busy=!0,o.generate(n.number).then(function(o){n.result=o,n.busy=!1},function(o){n.error=o.message,n.busy=!1})}}])}();